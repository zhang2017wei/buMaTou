{"version":3,"file":"runtime-utils.js","sources":["../src/apis-list.ts","../src/apis.ts","../src/components.ts","../src/runtime-utils.ts"],"sourcesContent":["export const needPromiseApis = new Set([\n  'addEventOnCalendar',\n  'chooseAlbum',\n  'closeCommunityEditor',\n  'getSwanId',\n  'requestPolymerPayment',\n  'navigateBackSmartProgram',\n  'navigateToSmartProgram',\n  'setPageInfo',\n  'closeReplyEditor',\n  'deleteBookShelf',\n  'deleteEventOnCalendar',\n  'getSystemRiskInfo',\n  'insertBookshelf',\n  'loadSubPackage',\n  'openCommunityEditor',\n  'openReplyEditor',\n  'openShare',\n  'setDocumentTitle',\n  'setMetaDescription',\n  'setMetaKeywords',\n  'shareFile',\n  'subscribeService',\n  'updateBookshelfReadTime'\n])\n","import { processApis } from '@tarojs/shared'\nimport { needPromiseApis } from './apis-list'\n\ndeclare const swan: any\n\nconst apiDiff = {\n  login: {\n    alias: 'getLoginCode'\n  }\n}\n\nexport function transformMeta (api: string, options: Record<string, any>) {\n  let apiAlias = api\n  Object.keys(apiDiff).forEach(item => {\n    const apiItem = apiDiff[item]\n    if (api === item) {\n      if (apiItem.alias) {\n        apiAlias = apiItem.alias\n      }\n      if (apiItem.options) {\n        const change = apiItem.options.change\n        const set = apiItem.options.set\n        if (change) {\n          change.forEach(changeItem => {\n            options[changeItem.new] = options[changeItem.old]\n          })\n        }\n        if (set) {\n          set.forEach(setItem => {\n            options[setItem.key] = typeof setItem.value === 'function' ? setItem.value(options) : setItem.value\n          })\n        }\n      }\n    }\n  })\n\n  return {\n    key: apiAlias,\n    options\n  }\n}\n\nexport function initNativeApi (taro) {\n  processApis(taro, swan, {\n    needPromiseApis,\n    transformMeta\n  })\n}\n","import { singleQuote } from '@tarojs/shared'\n\nexport const components = {\n  // ======== 调整属性 ========\n  Progress: {\n    'border-radius': '0',\n    'font-size': '16',\n    duration: '30'\n  },\n  RichText: {\n    selectable: 'false',\n    name: '',\n    attrs: '',\n    children: '[]',\n    text: '',\n    'image-menu-prevent': 'false',\n    preview: ''\n  },\n  Map: {\n    polygons: '[]',\n    'enable-3D': 'false',\n    'show-compass': 'false',\n    'enable-overlooking': 'false',\n    'enable-zoom': 'true',\n    'enable-scroll': 'true',\n    'enable-rotate': 'false',\n    bindRegionChange: '',\n    bindPoiTap: ''\n  },\n  Button: {\n    bindGetPhoneNumber: '',\n    bindGetUserInfo: '',\n    bindOpenSetting: '',\n    bindContact: '',\n    bindChooseAddress: '',\n    bindChooseInvoiceTitle: '',\n    bindLogin: ''\n  },\n  Form: {\n    'report-type': 'default',\n    'template-id': '',\n    'subscribe-id': ''\n  },\n  Input: {\n    'adjust-position': 'true'\n  },\n  Textarea: {\n    'confirm-type': singleQuote('default'),\n    'confirm-hold': 'false',\n    'show-confirm-bar': 'true',\n    'adjust-position': 'true'\n  },\n  Navigator: {\n    target: singleQuote('self'),\n    'app-id': '',\n    path: '',\n    'extra-data': '',\n    version: singleQuote('version')\n  },\n  Image: {\n    webp: 'false',\n    'image-menu-prevent': 'false',\n    preview: '',\n    'original-src': ''\n  },\n  Video: {\n    title: '',\n    'show-no-wifi-tip': 'true',\n    'vslide-gesture': 'false',\n    'vslide-gesture-in-fullscreen': 'true',\n    'enable-play-gesture': 'false',\n    'show-rate-btn': 'false',\n    'show-vslide-btn-in-fullscreen': 'true',\n    'silent-play': 'false',\n    bindLoadedMetadata: ''\n  },\n  Ad: {\n    appid: '',\n    apid: '',\n    type: singleQuote('feed'),\n    updatetime: '',\n    bindStatus: ''\n  },\n  // ======== 额外组件 ========\n  Tabs: {\n    'tabs-background-color': singleQuote('#fff'),\n    'tabs-active-text-color': singleQuote('#000'),\n    'tabs-inactive-text-color': singleQuote('#666'),\n    'tabs-underline-color': singleQuote('#333'),\n    'active-name': '',\n    'url-query-name': '',\n    'max-tab-item-amount': '5',\n    bindTabChange: ''\n  },\n  TabItem: {\n    label: '',\n    name: '',\n    'badge-type': '',\n    'badge-text': ''\n  },\n  AnimationVideo: {\n    'resource-width': '800',\n    'resource-height': '400',\n    'canvas-style': singleQuote('width:400px;height:400px'),\n    path: '',\n    loop: 'fasle',\n    autoplay: 'fasle',\n    bindStarted: '',\n    bindEnded: ''\n  },\n  AnimationView: {\n    path: '',\n    loop: 'false',\n    autoplay: 'true',\n    action: singleQuote('play'),\n    hidden: 'true',\n    bindEnded: ''\n  },\n  ArCamera: {\n    key: '',\n    type: '',\n    flash: singleQuote('off'),\n    bindError: '',\n    bindLoad: '',\n    bindMessage: '',\n    bindScanCode: ''\n  },\n  RtcRoom: {\n    id: '',\n    'enable-camera': 'true',\n    'enable-auto-focus': 'true',\n    'enable-zoom': 'false',\n    'device-position': singleQuote('front'),\n    'enable-mic': 'true',\n    'enable-agc': 'false',\n    'enable-ans': 'false',\n    bitrate: '900',\n    'video-width': '360',\n    'video-height': '640',\n    'enable-remote-mirror': 'false',\n    'local-mirror': singleQuote('auto'),\n    'sound-mode': singleQuote('speaker'),\n    bindStateChange: '',\n    bindError: ''\n  },\n  RtcRoomItem: {\n    id: '',\n    type: '',\n    'user-id': ''\n  },\n  OpenData: {\n    type: ''\n  },\n  Login: {\n    'button-class': '',\n    bindGetPhoneNumber: '',\n    bindLoadError: ''\n  }\n}\n","\nimport { initNativeApi } from './apis'\n\nexport { initNativeApi }\nexport * from './components'\nexport * from './apis-list'\nexport const hostConfig = {\n  initNativeApi,\n  getPathIndex (indexOfNode) {\n    return `${indexOfNode}`\n  },\n  getSpecialNodes (): string[] {\n    return ['text', 'image']\n  },\n  modifyTaroEvent (event, node) {\n    if (node.tagName === 'MAP' && event.type === 'regionchange') {\n      event.type = 'end'\n    }\n  },\n  getMiniLifecycle (config) {\n    config.page[0] = 'onInit'\n    return config\n  }\n}\n"],"names":[],"mappings":"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"}